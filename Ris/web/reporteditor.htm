<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <title>Report Editor</title>
        <link href="css/default.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="js/jsx.js"></script>
	    <script type="text/javascript" src="js/jsml.js"></script>
	    <script type="text/javascript" src="js/ui.js"></script>
	    <script type="text/javascript" src="js/ris.js"></script>
	    <script type="text/javascript" >
		    var data = {};

            function saveData()
            {
                Ris.setData("Editor", Field.getValue($("reportContent")));
            }
            
            function isEditingAddendum(message, type)
            {
                return new Boolean(window.external.IsEditingAddendum());
            }
            
            function tryParseJsml(input)
            {
                try
                {
                   return JSML.parse(input); 
                }
                catch(e)
                {
                    return null;
                }
            }
            
		    function onBodyLoad()
		    {		        
		        if(!Ris)
		            return;

	            try
	            {
	                if (isEditingAddendum() == true)
	                {
	                    Field.setValue($("reportHeading"), "Addendum");
	                    $("reportContent").rows = 5;
	                }
	            
                    data = Ris.getData("ReportContent");
                    Field.setValue($("reportContent"), data);
	            }
	            catch(e)
	            {
	                var message = "Failed to load editor page.  An exception occurred in the script. Error name: " + e.name + ". Error message: " + e.message;
		            Field.setValue($("myForm"), message);
	            }
				
		    }
		</script>
	</head>
	<body onload="javascript: onBodyLoad()" style="padding-top:0">
		<form id="myForm" style="padding-top:0">
		    <p class="sectionheading" id="reportHeading">Report</p>
			<textarea style="width:99%" rows="35" border="0" id="reportContent"></textarea>
		</form>
	</body>
</html>