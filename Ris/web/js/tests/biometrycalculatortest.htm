<html>
 <head>
  <title>Test Page for BiometryCalculator</title>
  <script language="javascript" src="../jsunit/app/jsUnitCore.js"></script>
  <script language="javascript" src="../biometrycalculator.js"></script>
 </head>
 <body>
  <script language="javascript">
    function testCrlWithValidArgs() {
        assertEquals("CRL for 1 mm is 5.9", "5.9", BiometryCalculator.crlWeeks(1).toFixed(1));
        assertEquals("CRL for 10 mm is 7.3", "7.3", BiometryCalculator.crlWeeks(10).toFixed(1));
        assertEquals("CRL for 50 mm is 11.7", "11.7", BiometryCalculator.crlWeeks(50).toFixed(1));
    }
    function testCrlWithInvalidArgs() {
        assertEquals("CRL for null is 0", "0.0", BiometryCalculator.crlWeeks(null).toFixed(1));
    }
	 
    function testBpdWithValidArgs() {
        assertEquals("BPD for 1 mm is 7.2", "7.2", BiometryCalculator.bpdWeeks(1).toFixed(1));
        assertEquals("BPD for 10 mm is 9.5", "9.5", BiometryCalculator.bpdWeeks(10).toFixed(1));
        assertEquals("BPD for 50 mm is 21.2", "21.2", BiometryCalculator.bpdWeeks(50).toFixed(1));
    }
    function testBpdWithInvalidArgs() {
        assertEquals("BPD for null is 0", "0.0", BiometryCalculator.bpdWeeks(null).toFixed(1));
    }

    function testCorrectedBpdWithValidArgs() {
        assertEquals("Corrected BPD for BPD = 1 mm, OFD = 1 mm is 1 mm", "1", BiometryCalculator.correctedBpd(1, 1).toFixed(0));
        assertEquals("Corrected BPD for BPD = 10 mm, OFD = 10 mm is 9 mm", "9", BiometryCalculator.correctedBpd(10, 10).toFixed(0));
        assertEquals("Corrected BPD for BPD = 50 mm, OFD = 50 mm is 44 mm", "44", BiometryCalculator.correctedBpd(50, 50).toFixed(0));
    }
    function testCorrectedBpdWithoutOfdInvalidArgs() {
        assertEquals("Corrected BPD for BPD = 50 mm and without OFD is 50", "50", BiometryCalculator.correctedBpd(50, null).toFixed(0));
    }
    function testCorrectedBpdWithInvalidArgs() {
        assertEquals("BPD for null is 0", "0", BiometryCalculator.correctedBpd(null, null).toFixed(0));
    }
	 
	 function testAbdominalCircumferenceWithValidArgs() {
        assertEquals("Abdominal Circumference for A1 = 5 mm, A2 = 10 mm is 24", "24", BiometryCalculator.abdomenCircumference(5, 10).toFixed(0));
    }
    function testAbdominalCircumferenceWithInvalidArgs() {
        assertEquals("Abdominal Circumference for A1 = null, A2 = 10 mm is 0", "0", BiometryCalculator.abdomenCircumference(null, 10).toFixed(0));
        assertEquals("Abdominal Circumference for A1 = 10 mm, A2 = null is 0", "0", BiometryCalculator.abdomenCircumference(10, null).toFixed(0));
    }
    function testAbdominalCircumferenceWeeksWithValidArgs() {
        assertEquals("Abdominal Circumference for A1 = 5 mm, A2 = 10 mm is 9.4", "9.4", BiometryCalculator.abdomenCircumferenceWeeks(BiometryCalculator.abdomenCircumference(5, 10)).toFixed(1));
        assertEquals("Abdominal Circumference for A1 = 10 mm, A2 = 20 mm is 11.3", "11.3", BiometryCalculator.abdomenCircumferenceWeeks(BiometryCalculator.abdomenCircumference(10, 20)).toFixed(1));
        assertEquals("Abdominal Circumference for A1 = 20 mm, A2 = 30 mm is 13.9", "13.9", BiometryCalculator.abdomenCircumferenceWeeks(BiometryCalculator.abdomenCircumference(20, 30)).toFixed(1));
    }
    function testAbdominalCircumferenceWeeksWithInvalidArgs() {
        assertEquals("Abdominal Circumference for null is 0", "0.0", BiometryCalculator.abdomenCircumferenceWeeks(null).toFixed(1));
    }

    function testFemurWithValidArgs() {
        assertEquals("Femur for 1 mm is 9.8", "9.8", BiometryCalculator.femurWeeks(1).toFixed(1));
        assertEquals("Femur for 10 mm is 12.6", "12.6", BiometryCalculator.femurWeeks(10).toFixed(1));
        assertEquals("Femur for 50 mm is 27.0", "27.0", BiometryCalculator.femurWeeks(50).toFixed(1));
    }
    function testFemurWithInvalidArgs() {
        assertEquals("Femur for null is 0", "0", BiometryCalculator.femurWeeks(null).toFixed(0));
    }
	 
	 function testAverageWeeksWithValidArgs() {
        assertEquals("Average Weeks for BPD = 0, Abd Circ = 0, Femur = 0 is 0.0", "0.0", BiometryCalculator.averageWeeks(0,0,0).toFixed(1));
        assertEquals("Average Weeks for BPD = 10, Abd Circ = 0, Femur = 0 is 10.0", "10.0", BiometryCalculator.averageWeeks(10,0,0).toFixed(1));
        assertEquals("Average Weeks for BPD = 0, Abd Circ = 10, Femur = 0 is 10.0", "10.0", BiometryCalculator.averageWeeks(0,10,0).toFixed(1));
        assertEquals("Average Weeks for BPD = 0, Abd Circ = 0, Femur = 10 is 10.0", "10.0", BiometryCalculator.averageWeeks(0,0,10).toFixed(1));
        assertEquals("Average Weeks for BPD = 10, Abd Circ = 12, Femur = 0 is 11.0", "11.0", BiometryCalculator.averageWeeks(10,12,0).toFixed(1));
        assertEquals("Average Weeks for BPD = 0, Abd Circ = 10, Femur = 12 is 11.0", "11.0", BiometryCalculator.averageWeeks(0,10,12).toFixed(1));
        assertEquals("Average Weeks for BPD = 10, Abd Circ = 0, Femur = 12 is 11.0", "11.0", BiometryCalculator.averageWeeks(10,0,12).toFixed(1));
        assertEquals("Average Weeks for BPD = 10, Abd Circ = 11, Femur = 12 is 11.0", "11.0", BiometryCalculator.averageWeeks(10,11,12).toFixed(1));
	 }
	</script>
 </body>
</html>
